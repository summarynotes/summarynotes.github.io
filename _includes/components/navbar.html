<nav
  class="border-b border-gray-200 dark:border-gray-700 transition-colors duration-200 fixed top-0 left-0 right-0 z-50 bg-gray-100 dark:bg-primary border-b border-gray-200 dark:border-gray-700 transition-colors duration-200"
>
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
    <div class="flex justify-between h-16">
      <!-- Left side -->
      <div class="flex items-center gap-4">
        <!-- Logo -->
        <div class="flex items-center gap-2">
          <div
            class="w-8 h-8 bg-blue-600 rounded-full flex items-center justify-center"
          >
            <svg
              version="1.0"
              xmlns="http://www.w3.org/2000/svg"
              width="1280.000000pt"
              height="1280.000000pt"
              viewBox="-100 -100 1480.000000 1480.000000"
              preserveAspectRatio="xMidYMid meet"
            >
              <metadata>
                Created by potrace 1.15, written by Peter Selinger 2001-2017
                This attribution was intentionally left here by Bishal Tiwari.
                Don't remove.
              </metadata>
              <g
                transform="translate(0.000000,1280.000000) scale(0.100000,-0.100000)"
                fill="#000000"
                stroke="none"
              >
                <path
                  d="M5673 11228 l-372 -192 -370 -850 c-743 -1708 -1060 -2436 -1601
-3681 -304 -698 -622 -1430 -708 -1625 -85 -195 -212 -488 -282 -650 -121
-280 -385 -885 -547 -1255 -41 -93 -141 -325 -223 -515 -82 -190 -221 -509
-308 -710 l-159 -365 964 -3 963 -2 363 186 c199 103 367 192 374 198 12 11
93 213 492 1226 105 267 202 510 214 540 l23 55 1795 -4 c986 -2 1796 -7 1799
-12 3 -4 205 -498 450 -1098 l444 -1091 984 0 984 0 374 191 c206 105 374 191
374 193 0 3 -60 144 -320 746 -139 322 -265 614 -280 650 -15 36 -141 328
-280 650 -139 322 -265 614 -280 650 -15 36 -141 328 -280 650 -139 322 -265
614 -280 650 -15 36 -141 328 -280 650 -139 322 -265 614 -280 650 -24 58
-332 771 -642 1490 -61 140 -136 316 -168 390 -32 74 -158 367 -280 650 -122
283 -282 655 -355 825 -74 171 -201 465 -282 655 l-149 345 -749 2 -750 3
-372 -192z m717 -3278 c45 -118 108 -285 140 -370 32 -85 95 -252 140 -370 45
-118 158 -415 251 -660 93 -245 224 -591 292 -770 l123 -325 -1045 -3 c-574
-1 -1046 0 -1048 2 -4 4 40 118 467 1226 149 388 339 881 422 1095 83 215 153
396 156 404 7 19 9 15 102 -229z"
                />
              </g>
            </svg>
          </div>
          <span class="text-xl font-bold text-gray-900 dark:text-white"
            ><a href="{{ site.baseurl }}/">A Level Notes</a></span
          >
        </div>

        <!-- Theme Toggle -->
        <button
          id="themeToggle"
          class="p-2 rounded-lg text-gray-500 hover:bg-gray-100 dark:text-gray-400 dark:hover:bg-gray-800 transition-colors duration-200"
        >
          <svg
            class="w-6 h-6"
            id="themeIcon"
            fill="currentColor"
            viewBox="0 0 20 20"
          >
            <path
              fill-rule="evenodd"
              d="M10 2a1 1 0 011 1v1a1 1 0 11-2 0V3a1 1 0 011-1zm4 8a4 4 0 11-8 0 4 4 0 018 0zm-.464 4.95l.707.707a1 1 0 001.414-1.414l-.707-.707a1 1 0 00-1.414 1.414zm2.12-10.607a1 1 0 010 1.414l-.706.707a1 1 0 11-1.414-1.414l.707-.707a1 1 0 011.414 0zM17 11a1 1 0 100-2h-1a1 1 0 100 2h1zm-7 4a1 1 0 011 1v1a1 1 0 11-2 0v-1a1 1 0 011-1zM5.05 6.464A1 1 0 106.465 5.05l-.708-.707a1 1 0 00-1.414 1.414l.707.707zm1.414 8.486l-.707.707a1 1 0 01-1.414-1.414l.707-.707a1 1 0 011.414 1.414zM4 11a1 1 0 100-2H3a1 1 0 000 2h1z"
              clip-rule="evenodd"
            />
          </svg>
        </button>
      </div>

      <!-- Desktop Navigation -->
      <div class="hidden md:flex md:items-center md:gap-4">
        <a
          href="{{ site.baseurl }}/"
          class="px-4 py-2 text-gray-700 hover:text-blue-600 dark:text-gray-200 dark:hover:text-blue-400 transition-colors duration-200"
          >Home</a
        >

        <!-- Notes Dropdown -->
        <div class="relative group">
          <button
            class="px-4 py-2 text-gray-700 bg-gray-100 hover:bg-white dark:bg-primary dark:text-gray-200 dark:hover:bg-gray-700 rounded-lg transition-colors duration-200 flex items-center gap-2"
          >
            Notes
            <svg
              class="w-4 h-4"
              fill="none"
              stroke="currentColor"
              viewBox="0 0 24 24"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M19 9l-7 7-7-7"
              />
            </svg>
          </button>
          <div
            class="absolute right-0 mt-2 w-48 bg-white dark:bg-gray-800 rounded-lg shadow-lg py-2 z-50 transition-all duration-200 transform opacity-0 scale-95 invisible group-hover:opacity-100 group-hover:scale-100 group-hover:visible"
          >
          {% assign subjects_collection = site.subjects %}
            {% if subjects_collection.size > 0 %}
              {% for subject in subjects_collection %}
                <a
                  href="{{ subject.url }}"
                  class="block px-4 py-2 text-sm text-gray-700 hover:text-blue-600 dark:text-gray-200 dark:hover:bg-gray-700 transition-colors duration-200"
                >
                  {{ subject.title | replace: '-', ' ' | capitalize }}
                </a>
              {% endfor %}
            {% else %}
              <p class="px-4 py-2 text-sm text-gray-700 dark:text-gray-200">No subjects found</p>
            {% endif %}
          </div>
        </div>

        <!-- Tests Dropdown -->
        <div class="relative group">
          <button
            class="px-4 py-2 text-gray-700 bg-gray-100 hover:bg-white dark:bg-primary dark:text-gray-200 dark:hover:bg-gray-700 rounded-lg transition-colors duration-200 flex items-center gap-2"
          >
            Tests
            <svg
              class="w-4 h-4"
              fill="none"
              stroke="currentColor"
              viewBox="0 0 24 24"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M19 9l-7 7-7-7"
              />
            </svg>
          </button>
          <div
            class="absolute right-0 mt-2 w-48 bg-white dark:bg-gray-800 rounded-lg shadow-lg py-2 z-50 transition-all duration-200 transform opacity-0 scale-95 invisible group-hover:opacity-100 group-hover:scale-100 group-hover:visible"
          >
          {% assign subjects_collection = site.subjects %}
            {% if subjects_collection.size > 0 %}
              {% for subject in subjects_collection %}
                <a
                  href="tests/{{ subject.subject }}"
                  class="block px-4 py-2 text-sm text-gray-700 hover:text-blue-600 dark:text-gray-200 dark:hover:bg-gray-700 transition-colors duration-200"
                >
                  {{ subject.title | replace: '-', ' ' | capitalize }}
                </a>
              {% endfor %}
            {% else %}
              <p class="px-4 py-2 text-sm text-gray-700 dark:text-gray-200">No subjects found</p>
            {% endif %}
          </div>
        </div>

        <a
          href="{{ site.baseurl }}/contact"
          class="px-4 py-2 text-gray-700 hover:text-blue-600 dark:text-gray-200 dark:hover:text-blue-400 transition-colors duration-200"
          >Contact</a
        >
      </div>

      <!-- Mobile menu button -->
      <div class="md:hidden flex items-center">
        <button
          id="menuBtn"
          class="p-2 rounded-lg text-gray-500 hover:bg-gray-100 dark:text-gray-400 dark:hover:bg-gray-800 transition-colors duration-200"
        >
          <svg
            class="w-6 h-6"
            id="menuIcon"
            fill="none"
            stroke="currentColor"
            viewBox="0 0 24 24"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              d="M4 6h16M4 12h16m-16 6h16"
            />
          </svg>
        </button>
      </div>
    </div>
  </div>

  <!-- Mobile Navigation -->
  <div
    class="hidden md:hidden bg-white dark:bg-primary border-b border-gray-200 dark:border-gray-700"
    id="mobileMenu"
  >
    <div class="px-2 py-3 space-y-1">
      <a
        href="{{ site.baseurl }}/"
        class="block w-full px-4 py-2 text-left text-gray-700 hover:bg-gray-100 dark:text-gray-200 dark:hover:bg-gray-700 transition-colors duration-200"
        >Home</a
      >

      <!-- Mobile Notes Dropdown -->
      <div class="mobile-dropdown">
        <button
          onclick="this.nextElementSibling.classList.toggle('hidden')"
          class="block w-full px-4 py-2 text-left text-gray-700 bg-gray-50 hover:bg-gray-100 dark:bg-primary dark:text-gray-200 dark:hover:bg-gray-700 rounded-lg transition-colors duration-200 flex items-center justify-between"
        >
          Notes
          <svg
            class="w-4 h-4"
            fill="none"
            stroke="currentColor"
            viewBox="0 0 24 24"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              d="M19 9l-7 7-7-7"
            />
          </svg>
        </button>
        <div class="mt-2 bg-white dark:bg-gray-800 rounded-lg shadow-lg hidden">
          {% assign subjects_collection = site.subjects %}
            {% if subjects_collection.size > 0 %}
              {% for subject in subjects_collection %}
                <a
                  href="{{ subject.url }}"
                  class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 dark:text-gray-200 dark:hover:bg-gray-700 transition-colors duration-200"
                >
                  {{ subject.title | replace: '-', ' ' | capitalize }}
                </a>
              {% endfor %}
            {% else %}
              <p class="px-4 py-2 text-sm text-gray-700 dark:text-gray-200">No subjects found</p>
            {% endif %}
        </div>
      </div>

      <!-- Mobile Tests Dropdown -->
      <div class="mobile-dropdown">
        <button
          onclick="this.nextElementSibling.classList.toggle('hidden')"
          class="block w-full px-4 py-2 text-left text-gray-700 bg-gray-50 hover:bg-gray-100 dark:bg-primary dark:text-gray-200 dark:hover:bg-gray-700 rounded-lg transition-colors duration-200 flex items-center justify-between"
        >
          Tests
          <svg
            class="w-4 h-4"
            fill="none"
            stroke="currentColor"
            viewBox="0 0 24 24"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              d="M19 9l-7 7-7-7"
            />
          </svg>
        </button>
        <div class="mt-2 bg-white dark:bg-gray-800 rounded-lg shadow-lg hidden">
          {% assign subjects_collection = site.subjects %}
            {% if subjects_collection.size > 0 %}
              {% for subject in subjects_collection %}
                <a
                  href="{{ subject.url }}"
                  class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 dark:text-gray-200 dark:hover:bg-gray-700 transition-colors duration-200"
                >
                  {{ subject.title | replace: '-', ' ' | capitalize }}
                </a>
              {% endfor %}
            {% else %}
              <p class="px-4 py-2 text-sm text-gray-700 dark:text-gray-200">No subjects found</p>
            {% endif %}
        </div>
      </div>

      <a
        href="{{ site.baseurl }}/contact"
        class="block w-full px-4 py-2 text-left text-gray-700 hover:bg-gray-100 dark:text-gray-200 dark:hover:bg-gray-700 transition-colors duration-200"
        >Contact</a
      >
    </div>
  </div>
</nav>
